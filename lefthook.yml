pre-commit:
  jobs:
    - name: Gitleaks
      run: gitleaks detect --source="$(pwd)" --verbose --redact --log-opts="--all --full-history"

    - name: Ruby Lint
      run: bin/rubocop

    - name: ERB Lint
      run: bin/erb_lint --lint-all

    - name: Biome Lint
      run: bin/yarn biome check

    - name: Run Brakeman
      run: bin/brakeman --no-pager --skip-files app/assets/builds/,build/,node_modules/,pwa/,rubies/

    - name: Run RSpec
      run: bin/rspec
