<!-- Header right controls: locale toggle, GitHub link, examples button -->
<div class="sm:absolute sm:top-4 sm:right-6 mt-3 sm:mt-0 flex flex-col items-end gap-2">
  <!-- Top row: locale toggle + GitHub link -->
  <div class="inline-flex items-center gap-2">
    <% other = I18n.locale.to_s == "ja" ? "en" : "ja" %>
    <%= link_to root_path(locale: other), class: "inline-flex items-center text-sm rounded-full px-1 py-0.5 bg-transparent focus:outline-none", data: { test: "locale-toggle", turbo: false }, aria: { label: t("regular_expressions.header.toggle_locale", default: "Toggle language") } do %>
      <span class="sr-only"><%= t("regular_expressions.header.toggle_locale", default: "Toggle language") %></span>
      <span class="inline-flex items-center gap-2">
        <span class="text-xs text-gray-400">LANG</span>
        <span class="inline-flex items-center bg-gray-900/50 rounded-full p-0.5">
          <span class="text-xs font-medium px-2 py-0.5 rounded-full <%= I18n.locale.to_s == "en" ? "bg-gray-700 text-white" : "text-gray-300 opacity-60" %>">EN</span>
          <span class="text-xs font-medium px-2 py-0.5 rounded-full <%= I18n.locale.to_s == "ja" ? "bg-gray-700 text-white" : "text-gray-300 opacity-60" %>">JP</span>
        </span>
      </span>
    <% end %>

    <%= link_to "https://github.com/aim2bpg/rubree", target: "_blank", rel: "noopener", class: "inline-flex items-center p-1 text-gray-300 hover:text-white relative github-link", aria: { label: t("regular_expressions.header.open_github", default: "Open Rubree repository on GitHub") } do %>
      <span class="sr-only"><%= t("regular_expressions.header.open_github", default: "Open Rubree repository on GitHub") %></span>
      <!-- GitHub Mark (inline SVG) - icon only, no border/frame -->
      <svg viewBox="0 0 16 16" width="18" height="18" fill="currentColor" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z" />
      </svg>
      <span class="github-tooltip" role="tooltip"><%= t("regular_expressions.header.github_star", default: "If you like Rubree, please star â˜†") %></span>
    <% end %>
  </div>

  <!-- Bottom row: Regex Examples button -->
  <div>
    <button type="button"
      class="inline-flex items-center gap-2 bg-transparent border border-blue-500 text-blue-400 text-sm px-3 py-1 rounded-lg shadow-sm hover:bg-blue-600/5 hover:text-white transition-colors focus:ring-2 focus:ring-blue-500"
      data-action="click->regexp-examples#toggleHeaderDropdown"
      data-regexp-examples-target="caretButton"
      aria-expanded="false"
      aria-haspopup="menu"
      aria-label="<%= t("regular_expressions.header.open_examples", default: "Open examples (top-right)") %>">
      <span class="font-medium"><%= t("regular_expressions.header.button", default: "Regex Examples") %></span>
      <svg class="w-3 h-3 text-blue-300" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.293l3.71-4.06a.75.75 0 111.12 1l-4.27 4.67a.75.75 0 01-1.08 0L5.21 8.27a.75.75 0 01.02-1.06z" clip-rule="evenodd" /></svg>
    </button>
  </div>
</div>
